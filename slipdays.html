---
layout: default
title: Slip Day Checker
permalink: slipdays/index.html
---

<div class="header center coontainer-fluid">
    <div class="row row-centered" style="width:100%">
        <div class="col-md-3">
            <div class="vcenter">
                <img width="250" border="0" align="bottom" height="244" src="{{ site.baseurl }}/resources/images/snap_nav.gif" class="navbar" alt="Your Navigation Bar didn't load." title="Click me to navigate." usemap="#gobo">
                <div style="position:absolute;top:60px;left:220px;z-index:40;">
                    <img src="{{ site.baseurl }}/resources/images/blank.gif" name="speech" />
                </div>
                <map name="gobo">
                    <area shape="rect" coords="0,70,110,97" alt="Overview" href="{{ site.baseurl }}/#overview" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/overview_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                    <area shape="rect" coords="0,97,76,124" alt="News" href="{{ site.baseurl }}/#news" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/news_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                    <area shape="rect" coords="0,124,105,151" alt="Calendar" href="{{ site.baseurl }}/#calendar" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/calendar_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                    <area shape="rect" coords="0,151,72,178" alt="Staff" href="{{ site.baseurl }}/#staff" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/staff_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                    <area shape="rect" coords="0,178,97,205" alt="Grades" href="{{ site.baseurl }}/#grading" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/grading_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                    <area shape="rect" coords="0,205,117,232" alt="{{ site.baseurl }}/resources" href="{{ site.baseurl }}/#resources" onmouseover="displaySpeech('speech', '{{ site.baseurl }}/resources/images/resources_jump.gif')" onmouseout="displaySpeech('speech', '{{ site.baseurl }}/resources/images/blank.gif')">
                </map>
            </div>
        </div>
        <div class="col-md-6">
            <div class="col-centered vcenter">
                <br><br><br>
                <h2 class="logo">CS10</h2>
                <h2 class="logo">The Beauty &amp; Joy of Computing</h2>
                <h2 class="logo">Spring 2015</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="vcenter right">
                <br><br>
                <a href="http://bjc.berkeley.edu/">
                    <img border="0" src="{{ site.baseurl }}/resources/images/bjc186.png" alt="BJC logo">
                </a>
            </div>
        </div>
    </div>
  </div>

{% include quicklinks.html %}

<script src="{{ site.baseurl }}/assets/directory-concat.js"></script>

<link href="{{ site.baseurl }}/assets/css/cs10style.css" rel="stylesheet"/>

<script>
    {% include_relative assets/cs10.js %}
</script>

<h1> Check Your Slip Day Usage </h1>

<div class="page-section">
  <br>
  <h2> Please enter your SID </h2>
  <form class="form-inline" id='sid-form'>
    <div class="form-group">
      <label class="sr-only" for="exampleInputAmount">Your SID</label>
      <div class="input-group">
        <input type="text" class="form-control" id="sidInput" placeholder="12345678">
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Check my days!</button>
  </form>
  <br />
  <br />
  <div id="msg" class="alert hidden" role="alert">
    You are at your slip day limit!
  </div>
  <br />
  <div id="panel" class="panel panel-primary">
    <div class="panel-heading">
      Slip Day Results
    </div>
    <div class="table-responsive">
      <table border="0" id="results" class="table table-striped table-responsive">
        <tbody id="table-contents">
        </tbody>
      </table>
    </div>
  </div>
</div>


<script type="text/javascript">
$(document).ready(function() {
  $('#sid-form').submit(function(evt) {
    console.log('submitted?');
    var dom = 'alonzo.herokuapp.com';
    // Local hosts use a local Alonzo URL
    // if (location.port === '4000') {
    //   dom = 'localhost:8080';
    // }

    var sid = $('#sidInput').val();
    var url = 'http://' + dom + '/slipdays/' + sid + '/json';
    $.ajax({
      url: url,
      cache: false,
      crossDomain: true,
      success: function(result, b, c) {
        var table = $('#table-contents');
        table.html(); // clear the table
        if (result.constructor === Array) {
          result.forEach(function(item) {
            table.append($('<tr>').html($('<td>').html(item)));
            if (item.indexOf('Total') === 0) {
              var days = parseInt(item.split(' ')[1]);
              $('#msg').removeClass('hidden');
              if (days < 3) {
                $('#panel').addClass('panel-success');
                $('#msg').addClass('alert-success');
                $('#msg').html('Good work! You\'ve got some breathing room!');
              } else if (days === 3) {
                $('#panel').addClass('panel-warning');
                $('#msg').addClass('alert-warning');
                $('#msg').html('You\'re at the limit of slip days! Be careful, or you\'ll lose points.');
              } else {
                $('#panel').addClass('panel-danger');
                $('#msg').addClass('alert-danger');
                $('#msg').html('Uh-oh! We\'ll need to dock some points.');
              }
            }
          });
        }
      },
      error: function(a, b, c) {
        var table = $('#table-contents');
        table.append($('<tr>').html($('<td>').html('Whoops, an error occured! Sorry!')));
      }
    });

    evt.preventDefault();
  });
});

</script>
